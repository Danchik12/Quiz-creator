{"ast":null,"code":"import _defineProperty from\"C:/Users/ASUS/Desktop/Quiz-creator/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/ASUS/Desktop/Quiz-creator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"C:/Users/ASUS/Desktop/Quiz-creator/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\Quiz-creator\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import{FETCH_QUIZES_START,FETCH_QUIZ_SUCCESS,FETCH_QUIZES_SUCCESS,FETCH_QUIZES_ERROR,QUIZ_SET_STATE,FINISH_QUIZ,QUIZ_NEXT,RETRY_QUIZ}from'./actionTypes';export function fetchQuizes(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response,quizes,_i,_Object$entries,_Object$entries$_i,key,value;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(fetchQuizesStart());_context.prev=1;_context.next=4;return axios.get('https://react-quiz-c7272-default-rtdb.firebaseio.com/quizes.json');case 4:response=_context.sent;quizes=[];for(_i=0,_Object$entries=Object.entries(response.data);_i<_Object$entries.length;_i++){_Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];quizes.push({id:key,name:\"\".concat(value.quizName)});}dispatch(fetchQuizesSuccess(quizes));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);dispatch(fetchQuizesError(_context.t0));case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();}export function fetchQuizesStart(){return{type:FETCH_QUIZES_START};}export function fetchQuizesSuccess(quizes){return{type:FETCH_QUIZES_SUCCESS,quizes:quizes};}export function fetchQuizesError(e){return{type:FETCH_QUIZES_ERROR,error:e};}export function fetchQuizByID(quizId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response,quiz,quizName;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(fetchQuizesStart());_context2.prev=1;_context2.next=4;return axios.get(\"https://react-quiz-c7272-default-rtdb.firebaseio.com/quizes/\".concat(quizId,\".json\"));case 4:response=_context2.sent;quiz=response.data.quiz;quizName=response.data.quizName;dispatch(fetchQuizSuccess(quiz,quizName));_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);dispatch(fetchQuizesError(_context2.t0));case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();}export function fetchQuizSuccess(quiz,quizName){return{type:FETCH_QUIZ_SUCCESS,quiz:quiz,quizName:quizName};}export function quizSetState(answerState,results){return{type:QUIZ_SET_STATE,answerState:answerState,results:results};}export function finishQuiz(){return{type:FINISH_QUIZ};}export function quizNext(number){return{type:QUIZ_NEXT,number:number};}export function quizAnswerClick(answerId){return function(dispatch,getState){var state=getState().quiz;var question=state.quiz[state.activeQuestion];var results=state.results;if(question.rightAnswerId===answerId){dispatch(quizSetState(_defineProperty({},answerId,'sucess'),results+1));}else{dispatch(quizSetState(_defineProperty({},answerId,'error'),results));}var timeout=window.setTimeout(function(){if(isQuiz(state)){dispatch(finishQuiz());}else{dispatch(quizNext(state.activeQuestion+1));}window.clearTimeout(timeout);},300);};}function isQuiz(state){return state.activeQuestion+1===state.quiz.length;}export function RetryQuiz(){return{type:RETRY_QUIZ};}","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/Quiz-creator/src/store/action/quiz.js"],"names":["axios","FETCH_QUIZES_START","FETCH_QUIZ_SUCCESS","FETCH_QUIZES_SUCCESS","FETCH_QUIZES_ERROR","QUIZ_SET_STATE","FINISH_QUIZ","QUIZ_NEXT","RETRY_QUIZ","fetchQuizes","dispatch","fetchQuizesStart","get","response","quizes","Object","entries","data","key","value","push","id","name","quizName","fetchQuizesSuccess","fetchQuizesError","type","e","error","fetchQuizByID","quizId","quiz","fetchQuizSuccess","quizSetState","answerState","results","finishQuiz","quizNext","number","quizAnswerClick","answerId","getState","state","question","activeQuestion","rightAnswerId","timeout","window","setTimeout","isQuiz","clearTimeout","length","RetryQuiz"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport {FETCH_QUIZES_START,\r\n\t     FETCH_QUIZ_SUCCESS,\r\n\t     FETCH_QUIZES_SUCCESS,\r\n\t\t  FETCH_QUIZES_ERROR,\r\n\t\t  QUIZ_SET_STATE,\r\n\t\t\tFINISH_QUIZ,\r\n\t\t\tQUIZ_NEXT,\r\n\t\t\tRETRY_QUIZ} from './actionTypes'\r\nexport  function fetchQuizes(){\r\n\treturn async dispatch => {\r\n\t\tdispatch(fetchQuizesStart())\r\n\t\ttry{\r\n \tconst response = await axios.get('https://react-quiz-c7272-default-rtdb.firebaseio.com/quizes.json')\r\n \tconst quizes=[]\r\n \t\r\n\r\n for (const [key,value] of Object.entries(response.data)) {\r\n \t\t\r\n \t\tquizes.push({\r\n \t\t\tid:key,\r\n \t\tname:`${value.quizName}`\r\n \t\t})\r\n \t\t\r\n\r\n \t}\r\n \tdispatch(fetchQuizesSuccess(quizes))\r\n }catch(e){\r\n \tdispatch (fetchQuizesError(e))\r\n }\r\n}\r\n\r\n\t\r\n}\r\n\r\n\r\nexport function fetchQuizesStart() {\r\n\treturn{\r\n\t\ttype:FETCH_QUIZES_START\r\n\t}\r\n}\r\n\r\nexport function fetchQuizesSuccess(quizes){\r\nreturn{\r\n\t\ttype:FETCH_QUIZES_SUCCESS,\r\n\t\tquizes:quizes\r\n\t}\r\n}\r\n\r\nexport function fetchQuizesError(e){\r\nreturn{\r\n\t\ttype:FETCH_QUIZES_ERROR,\r\n\t\terror:e\r\n\t}\r\n}\r\n\r\n\r\nexport function fetchQuizByID(quizId) {\r\n\treturn async dispatch => {\r\n\t\tdispatch(fetchQuizesStart())\r\n\r\n\t\t try{\r\n\r\n  const response = await axios.get(`https://react-quiz-c7272-default-rtdb.firebaseio.com/quizes/${quizId}.json`)\r\n\r\n  const quiz=response.data.quiz\r\n  const quizName=response.data.quizName \r\n dispatch(fetchQuizSuccess(quiz,quizName))\r\n}catch(e){\r\n  dispatch(fetchQuizesError(e))\r\n}\r\n\t}\r\n\r\n}\r\n\r\n\r\nexport function fetchQuizSuccess(quiz,quizName){\r\n\treturn {\r\n\t\ttype:FETCH_QUIZ_SUCCESS,\r\n\t\tquiz,quizName\r\n\t}\r\n} \r\n\r\nexport function quizSetState(answerState,results){\r\n\treturn {\r\n\t\ttype:QUIZ_SET_STATE,\r\n\t\tanswerState,results\r\n\t}\r\n}\r\n\r\nexport function finishQuiz(){\r\n\treturn{\r\n\t\ttype:FINISH_QUIZ\r\n\t}\r\n}\r\nexport function quizNext(number){\r\n\treturn{\r\n\t\ttype:QUIZ_NEXT,\r\n\t\tnumber\r\n\r\n\t}\r\n}\r\nexport function quizAnswerClick(answerId){\r\n\treturn (dispatch,getState) => {\r\n\t\tconst state=getState().quiz\r\nconst question=state.quiz[state.activeQuestion]\r\nconst results=state.results\r\nif (question.rightAnswerId === answerId){\r\n\r\ndispatch(quizSetState({[answerId]:'sucess'},results+1))\r\n}else {\r\n dispatch(quizSetState({[answerId]:'error'},results))\r\n}\r\n\r\nconst timeout=window.setTimeout(() => {\r\n  if (isQuiz(state)){\r\n  \tdispatch(finishQuiz())\r\n    \r\n  }else{\r\n  \tdispatch(quizNext(state.activeQuestion+1))\r\n      \r\n  }\r\n\r\n\r\nwindow.clearTimeout(timeout)\r\n},300)\r\n\r\n\t}\r\n}\r\n\r\n\r\nfunction isQuiz(state){\r\n\treturn state.activeQuestion +1 === state.quiz.length\r\n}\r\n\r\nexport function RetryQuiz(){\r\n\treturn {\r\n\t\ttype:RETRY_QUIZ\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}